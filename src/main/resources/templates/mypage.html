<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="keywords" content="HTML5 Template, eSports, Gaming, Tournament, Landing, Page, SEO" />
    <meta name="description" content="Logy - eSports & Gaming HTML5 Template" />
    <title>Logy</title>

    <!--font-awesome icons link-->
    <link rel="stylesheet" href="/css/font-awesome.min.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/slick.css">
    <link rel="stylesheet" href="/css/venobox.css">
    <link rel="stylesheet" href="/css/lightbox.min.css">
    <!--main style file-->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/responsive.css">
</head>

<body id="darkmode">
<!-- Preloader -->
<div class="loader_screen preloader" id="preloader">
    <div class="loader loader-box">
        <svg viewBox="0 0 80 80">
            <rect x="8" y="8" width="64" height="64"></rect>
        </svg>
    </div>
</div>
<!-- Preloader -->

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Cart <b>.</b></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!-- 여기가 상품 정보가 들어갈 곳입니다 -->
            <div class="modal-body" id="cartItemsContainer2">
                <!-- 장바구니 항목이 여기에 동적으로 추가됩니다 -->
            </div>

            <!-- 생략 -->
            <div class="modal-footer">
                <a href="cart" class="main-btn model-btn" id="checkoutButton">Checkout $0</a>
            </div>
        </div>
    </div>
</div>
<!-- Contact Modal -->
<div class="modal fade" id="contact-model-large" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
            <form>
                <div class="modal-header">
                    <h5 class="modal-title">Contact <b>.</b></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row contact-box">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Your Full Name">
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <input type="email" class="form-control" placeholder="Your Email Address">
                            </div>
                        </div>
                        <div class="col-lg-12">
                            <div class="form-group">
                                <textarea class="form-control" id="exampleFormControlTextarea1" rows="7" placeholder="Your Message"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="main-btn model-btn">Send Message</button>
                </div>
            </form>
        </div>
    </div>
</div>
<!-- Modal -->

<!-- HEADER AREA START -->
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top" id="navber">
    <div class="container">
        <a class="navbar-brand" href="/">Logy<span>.</span></a>
        <div class="menu-main" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto menu-item">
                <li class="nav-item">
                    <a class="nav-link nl-m-top abc mobile-content-hide"><i class="fa fa-search" aria-hidden="true"></i></a>
                    <div class="search top-search">
                        <button type="button" class="close fix-close">×</button>
                        <form>
                            <input type="search" value="" placeholder="Search Here" />
                            <button type="submit" class="btn btn-primary">Search</button>
                        </form>
                    </div>
                </li>
                <li class="nav-item">
                    <a class="nav-link cart nl-m-top mobile-content-hide" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-shopping-bag" aria-hidden="true"></i><span id="cartItemCount">0</span></a>
                </li>
                <li class="nav-item">
                    <!-- 로그인 버튼 -->
                    <a class="nav-link nl-m-top account-icon" id="loginBtn" href="login"><i class="fa fa-user" aria-hidden="true"></i></a>
                    <!-- 로그아웃 버튼 -->
                    <a class="nav-link nl-m-top account-icon" id="logoutBtn" href="#"><i class="fas fa-sign-out-alt" aria-hidden="true"></i></a>
                </li>
                <li class="nav-item">
                    <!-- 마이페이지 버튼 -->
                    <a class="nav-link nl-m-top account-icon" id="myPageBtn" href="mypage"><i class="fa fa-user-circle" aria-hidden="true"></i></a>
                </li>

                <li class="nav-item">
                    <a class="nav-link menu-icon"><i class="fa fa-bars" aria-hidden="true"></i></a>
                </li>
            </ul>
        </div>
    </div>
    <div class="custom-menubar">
        <ul class="nav-link-block">
            <li>
                <a href="#banner" class="menu-link">Home</a>
            </li>
            <li>
                <a class="menu-link" data-toggle="modal" data-target="#contact-model-large">Contact</a>
            </li>
        </ul>
        <ul class="responsive-nav">
            <li>
                <a class="nav-link nl-m-top abc"><i class="fa fa-search" aria-hidden="true"></i></a>
                <div class="search top-search">
                    <button type="button" class="close fix-close">×</button>
                    <form>
                        <input type="search" value="" placeholder="Search Here" />
                        <button type="submit" class="btn btn-primary">Search</button>
                    </form>
                </div>
            </li>
            <li>
                <a class="nav-link cart nl-m-top" data-toggle="modal" data-target="#exampleModalCenter"><i class="fa fa-shopping-bag" aria-hidden="true"></i><span>2</span></a>
            </li>
            <li>
                <a class="nav-link nl-m-top" href="login"><i class="fa fa-user" aria-hidden="true"></i></a>
            </li>
        </ul>
        <div class="menu-close">
            <a class="hide-menu-btn"><i class="fa fa-times" aria-hidden="true"></i></a>
        </div>
    </div>
</nav>
<!-- HEADER AREA END -->
<style>
    .half-size-btn {
        padding: 10px 20px;
        font-size: 1rem;
    }

    .smaller-placeholder::placeholder {
        font-size: 0.8rem;
        color: white;
    }

    .contact-box .form-control {
        margin-top: 0px;
    }

    .centered-content {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding-top :150px; /* 상단 패딩 추가 */
        min-height :100vh ;
    }

    h4, p {
        color :white ;
        margin-bottom :30px ;
    }

    .valid-text {
        color: green;
        font-weight: bold;
    }

    .form-control {
        width :200% ;
        height :40px ; /* input 필드의 세로 길이를 조절 */

    }

    .contact-box{
        margin-bottom :40px ; /* 간격 조절 between contact-boxes */
    }
</style>

<div class="container centered-content">
    <div class="col-lg-8">
        <h4>Name Update</h4>
        <div class="row contact-box">
            <div class="col-lg-6">
                <div class="form-group">
                    <input type="text" id="currentName" placeholder="" disabled class="form-control smaller-placeholder"><br/>
                    <input type="text" id="newName" placeholder="New Name" required autocomplete="off" class="form-control smaller-placeholder">
                    <button type="button" class="btn btn-primary mt-2 main-btn half-size-btn" id="updateNameBtn">Update Name</button>
                </div>
            </div>
        </div>

        <h4>Email Update</h4>
        <div class="row contact-box">
            <div class="col-lg-6">
                <div class="form-group">
                    <input type="email" id="currentEmail" placeholder="" disabled class="form-control smaller-placeholder"><br/>
                    <input type="email" id="newEmail" placeholder="New Email Address" required autocomplete="off" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" class="form-control smaller-placeholder">
                    <button type="button" class="btn btn-primary mt-2 main-btn half-size-btn" id="updateEmailBtn">Update Email</button>
                </div>
            </div>
        </div>

        <h4>Password Update</h4>
        <div class="row contact-box">
            <div class="col-lg-6">
                <div class="form-group">
                    <input type="password" id="currentPassword" placeholder="********" required autocomplete="off" pattern=". {8,}" title="Enter a password of 8 characters or more." class="form-control smaller-placeholder"><br/>
                    <input type="password" id="newPassword" placeholder="New Password" required autocomplete="off" pattern=". {8,}" title="Enter a password of 8 characters or more." class="form-control smaller-placeholder">
                    <button type="button" class="btn btn-primary mt-2 main-btn half-size-btn" id="updatePasswordBtn">Update Password</button>
                </div>
            </div>
        </div>

        <h4>Phone Number Update</h4>
        <div class="row contact-box">
            <div class="col-lg-6">
                <div class="form-group">
                    <input type="tel" id="currentPhoneNumber" placeholder="" required autocomplete="off" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" title="Enter a valid phone number." class="form-control smaller-placeholder"><br/>
                    <input type="tel" id="newPhoneNumber" placeholder="New Phone Number" required autocomplete="off" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" title="Enter a valid phone number." class="form-control smaller-placeholder">
                    <button type="button" class="btn btn-primary mt-2 main-btn half-size-btn" id ="updatePhoneNumberBtn">Update Phone Number</button>
                </div>
            </div>
        </div>

        <h4>Address Update</h4>
        <div class="row contact-box">
            <div class="col-lg-6">
                <div class="form-group">
                    <input type="text" id="currentAddress" placeholder="" disabled class="form-control smaller-placeholder"><br/>
                    <input type="text" id="newAddress" placeholder="New Address" required autocomplete= "off" class= "form-control smaller-placeholder">
                    <button type="button" class="btn btn-primary mt-2 main-btn half-size-btn" id="updateAddressBtn">Update Address</button>
                </div>
            </div>
        </div>

        <h4>Postcode Update</h4>
        <div class="row contact-box">
            <div class="col-lg-6">
                <div class="form-group">
                    <input type="text" id="currentPostcode" placeholder="" disabled class="form-control smaller-placeholder"><br/>
                    <input type="text" id="newPostcode" placeholder="New Postcode" required autocomplete= "off" class= "form-control smaller-placeholder">
                    <button type= "button" class= "btn btn-primary mt-2 main-btn half-size-btn" id= "updatePostcodeBtn">Update Postcode</button>
                </div>
            </div>
        </div>
        
        <h4>License Information</h4>
        <div class="row">
            <div class="col-md-6">
                <p>License: <span style="color: green; font-weight: bold;">Valid</span></p>
                <p>Expiration Date: December 31, 2023</p>
            </div>
        </div>
    </div>
</div>
<!-- Email Update Section -->


<!-- BANNER AREA START -->

<!-- BANNER AREA END -->

<!-- GAMES AREA START -->

<!-- GAMES AREA END -->

<!-- ABOUT AREA START -->

<!-- BRAND AREA END -->

<!-- PLAYER AREA START -->

<!-- PLAYER AREA END -->

<!-- PRODUCT AREA START -->

<!-- PRODUCT AREA END -->

<!-- JOIN AREA START -->

<!-- JOIN AREA END -->

<!-- BLOG AREA START -->

<!-- BLOG AREA END -->

<!-- SUBSCRIBE AREA START -->

<!-- SUBSCRIBE AREA END -->

<!-- FOOTER AREA START -->
<section id="footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 footer-logo">
                <a href="/">Logy<b>.</b></a>
                <p>Step into the Future with logy: Elevating Reality through VR Treadmills and Software Solutions</p>
                <div class="footer-social">
                    <a href="#"><i class="fa fa-twitch" aria-hidden="true"></i></a>
                    <a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a>
                    <a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a>
                    <a href="#"><i class="fa fa-youtube-play" aria-hidden="true"></i></a>
                </div>
            </div>
            <div class="col-lg-2 col-sm-4 footer-menu">
                <h3>Site Menu</h3>
                <a href="#">Home</a>
                <a href="#">Tournaments</a>
                <a href="#">About Us</a>
                <a href="#">Reviews</a>
            </div>
            <div class="col-lg-2 col-sm-4 footer-menu">
                <h3>Useful Links</h3>
                <a href="#">Create Account</a>
                <a href="#">Subscription</a>
                <a href="#">Affiliate</a>
                <a href="#">Site Condition</a>
            </div>
            <div class="col-lg-2 col-sm-4 footer-menu">
                <h3>Information</h3>
                <a href="#">FAQ</a>
                <a href="#">Site Maps</a>
                <a href="#">Privacy Policy</a>
                <a href="#">Contact Us</a>
            </div>
        </div>
    </div>
</section>
<!-- FOOTER AREA END -->

<!-- COPY_RIGHT AREA START -->
<section id="copy_right">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="row">
                    <div class="col-lg-6 col-sm-7 copy-right-txt">
                        <p><i class="fa fa-copyright" aria-hidden="true"></i> 2021-2030 - Developed by <a href="#">Logy Team.</a></p>
                    </div>
                    <div class="col-lg-6 col-sm-5 text-right copy-right-txt">
                        <p>All Rights Reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- COPY_RIGHT AREA END -->
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="path/to/ytplayer-plugin.js"></script>

<!-- JavaScript -->
<script src="/js/jquery-3.3.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/slick.min.js"></script>
<script src="/js/venobox.min.js"></script>
<script src="/js/lightbox.min.js"></script>
<script src="/js/counterup.min.js"></script>
<script src="/js/waypoints.min.js"></script>
<script src="/js/custom.js"></script>
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="/js/jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function() {
        // 페이지 로드 시 사용자 정보 가져오기
        $.ajax({
            type: "GET",
            url: "/mypage/getCurrentUserInfo",

            success: function(data) {
                // 데이터를 입력 필드에 설정
                $("#currentName").val(data.name);
                $("#currentEmail").val(data.username);
                $("#currentPhoneNumber").val(data.phoneNumber);
                $("#currentAddress").val(data.address);
                $("#currentPostcode").val(data.postcode);

                setUpEventListeners();
            }
        });
    });

        // Name Update
        $("#updateNameBtn").click(function() {
            let newName = $("#newName").val();
            if (newName) {
                $.ajax({
                    type: "POST",
                    url: "/mypage/updateName",
                    data: { newName: newName },
                    success: function(response) {
                        if (response.success) {
                            $("#currentName").val(newName);
                            alert("Name updated successfully!");
                        } else {
                            alert("Error updating name.");
                        }
                    }
                });
            }
        });

        // Email Update
        $("#updateEmailBtn").click(function() {
            let newEmail = $("#newEmail").val();
            if (newEmail) {
                $.ajax({
                    type: "POST",
                    url: "/mypage/updateEmail",
                    data: { newEmail: newEmail },
                    success: function(response) {
                        if (response.success) {
                            $("#currentEmail").val(newEmail);
                            alert("Email updated successfully!");
                        } else {
                            alert("Error updating email.");
                        }
                    }
                });
            }
        });

        // Password Update
        $("#updatePasswordBtn").click(function() {
            let newPassword = $("#newPassword").val();
            if (newPassword) {
                $.ajax({
                    type: "POST",
                    url: "/mypage/updatePassword",
                    data: { newPassword: newPassword },
                    success: function(response) {
                        if (response.success) {
                            alert("Password updated successfully!");
                        } else {
                            alert("Error updating password.");
                        }
                    }
                });
            }
        });

        // Phone Number Update
        $("#updatePhoneNumberBtn").click(function() {
            let newPhoneNumber = $("#newPhoneNumber").val();
            if (newPhoneNumber) {
                $.ajax({
                    type: "POST",
                    url: "/mypage/updatePhoneNumber",
                    data: { newPhoneNumber: newPhoneNumber },
                    success: function(response) {
                        if (response.success) {
                            $("#currentPhoneNumber").val(newPhoneNumber);
                            alert("Phone number updated successfully!");
                        } else {
                            alert("Error updating phone number.");
                        }
                    }
                });
            }
        });

        // Address Update
        $("#updateAddressBtn").click(function() {
            let newAddress = $("#newAddress").val();
            if (newAddress) {
                $.ajax({
                    type: "POST",
                    url: "/mypage/updateAddress",
                    data: { newAddress: newAddress },
                    success: function(response) {
                        if (response.success) {
                            $("#currentAddress").val(newAddress);
                            alert("Address updated successfully!");
                        } else {
                            alert("Error updating address.");
                        }
                    }
                });
            }
        });

        // Postcode Update
        $("#updatePostcodeBtn").click(function() {
            let newPostcode = $("#newPostcode").val();
            if (newPostcode) {
                $.ajax({
                    type: "POST",
                    url: "/mypage/updatePostcode",
                    data: { newPostcode: newPostcode },
                    success: function(response) {
                        if (response.success) {
                            $("#currentPostcode").val(newPostcode);
                            alert("Postcode updated successfully!");
                        } else {
                            alert("Error updating postcode.");
                        }
                    }
                });
            }
        });
    // "Update Address" 버튼을 클릭했을 때 실행되는 함수

    function sample6_execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                var addr = '';
                var extraAddr = '';
                if (data.userSelectedType === 'R') {
                    addr = data.roadAddress;
                } else {
                    addr = data.jibunAddress;
                }

                if(data.userSelectedType === 'R'){
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    document.getElementById("newAddress").value = addr + extraAddr;

                } else {
                    document.getElementById("newAddress").value = '';
                }

                document.getElementById('currentAddress').value = addr;
                document.getElementById('newPostcode').value = data.zonecode;
                document.getElementById("currentPostcode").value = data.zonecode;
                document.getElementById("sample6_detailAddress").focus();
            }
        }).open();
    }

    document.getElementById("updateAddressBtn").addEventListener("click", function() {
        // 주소 업데이트 버튼 클릭 시 실행되는 코드
        sample6_execDaumPostcode();

    });

    document.getElementById("updatePostcodeBtn").addEventListener("click", function() {
        // 우편번호 업데이트 버튼 클릭 시 실행되는 코드
        sample6_execDaumPostcode();
        // 현재 우편번호를 가져오고 업데이트된 우편번호를 newPostcode로 옮김

    });
</script>


</body>

</html>